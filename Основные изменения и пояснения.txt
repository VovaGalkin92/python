Основные изменения и пояснения:
Читаемость:
Добавлены отступы и пробелы для лучшей структуры.
Комментарии:
Подробные комментарии объясняют каждую ключевую часть кода.
Использование макетов:
Структура кода улучшена, чтобы каждая функция выполняла конкретную задачу.